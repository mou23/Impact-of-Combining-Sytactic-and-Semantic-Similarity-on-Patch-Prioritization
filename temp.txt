Processing hazelcast_hazelcast/modifiedFiles/10/BasicInvocationFuture.java
Fault in line no 77

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi.impl

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
impl

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.core.ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.core

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
core

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.core.OperationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.core

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
core

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
OperationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.logging.ILogger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.logging

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logging

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ILogger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.nio.Address

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.nio

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
nio

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Address

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.nio.serialization.Data

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.nio.serialization

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.nio

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
nio

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
serialization

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Data

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi.Callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi.InternalCompletableFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InternalCompletableFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi.Operation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Operation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi.TraceableOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
spi

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TraceableOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util.Clock

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util.ExceptionUtil

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExceptionUtil

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.Executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.Future

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Future

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.RejectedExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
RejectedExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.TimeUnit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.atomic.AtomicIntegerFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.atomic

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
atomic

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicIntegerFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.atomic.AtomicReferenceFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent.atomic

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util.concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
concurrent

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
atomic

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicReferenceFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util.ExceptionUtil.fixRemoteStackTrace

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util.ExceptionUtil

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExceptionUtil

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
fixRemoteStackTrace

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util.ValidationUtil.isNotNull

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util.ValidationUtil

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast.util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com.hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
com

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hazelcast

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
util

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ValidationUtil

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isNotNull

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.lang.Math.min

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.lang.Math

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java.lang

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
java

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
lang

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Math

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
min

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InternalCompletableFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
MAX_CALL_TIMEOUT_EXTENSION
MAX_CALL_TIMEOUT_EXTENSION

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
60 * 1000

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
60

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
1000

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
IS_EXECUTING_CALL_TIMEOUT
IS_EXECUTING_CALL_TIMEOUT

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
5000

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicReferenceFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
RESPONSE_FIELD_UPDATER
RESPONSE_FIELD_UPDATER

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicReferenceFieldUpdater.newUpdater(BasicInvocationFuture.class,Object.class,"response")

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicReferenceFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
newUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture.class

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object.class

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"response"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicIntegerFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAITER_COUNT_FIELD_UPDATER
WAITER_COUNT_FIELD_UPDATER

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicIntegerFieldUpdater.newUpdater(BasicInvocationFuture.class,"waiterCount")

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
AtomicIntegerFieldUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
newUpdater

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture.class

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"waiterCount"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
interrupted
interrupted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
waiterCount
waiterCount

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicOperationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocationFuture

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicOperationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.invocation=invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.operationService=operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback != null
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutorCallbackAdapter

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
adapter
adapter

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new ExecutorCallbackAdapter<E>(callback)
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutorCallbackAdapter

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead=new ExecutionCallbackNode<E>(adapter,operationService.asyncExecutor,null)
callbackHead
adapter
operationService
asyncExecutor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new ExecutionCallbackNode<E>(adapter,operationService.asyncExecutor,null)
adapter
operationService
asyncExecutor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
adapter
adapter

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService.asyncExecutor
operationService
asyncExecutor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
asyncExecutor
asyncExecutor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
decrementTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout
timeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
diff
diff

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout == Long.MAX_VALUE
timeout
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout
timeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Long.MAX_VALUE
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Long

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
MAX_VALUE
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout
timeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout - diff
timeout
diff

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout
timeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
diff
diff

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
andThen

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isNotNull(callback,"callback")
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isNotNull

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"callback"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isNotNull(executor,"executor")
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isNotNull

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"executor"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
runAsynchronous(callback,executor)
callback
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
runAsynchronous

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.callbackHead=new ExecutionCallbackNode<E>(callback,executor,callbackHead)
callbackHead
callback
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.callbackHead
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new ExecutionCallbackNode<E>(callback,executor,callbackHead)
callback
executor
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
andThen

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
andThen(callback,operationService.asyncExecutor)
callback
operationService
asyncExecutor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
andThen

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService.asyncExecutor
operationService
asyncExecutor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
asyncExecutor
asyncExecutor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
runAsynchronous

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor.execute(new Runnable(){
  @Override public void run(){
    try {
      Object resp=resolveApplicationResponse(response);
      if (resp == null || !(resp instanceof Throwable)) {
        callback.onResponse((E)resp);
      }
 else {
        callback.onFailure((Throwable)resp);
      }
    }
 catch (    Throwable cause) {
      invocation.logger.severe("Failed asynchronous execution of execution callback: " + callback + "for call "+ invocation,cause);
    }
  }
}
)
executor
resp
response
callback
cause
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
execute

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new Runnable(){
  @Override public void run(){
    try {
      Object resp=resolveApplicationResponse(response);
      if (resp == null || !(resp instanceof Throwable)) {
        callback.onResponse((E)resp);
      }
 else {
        callback.onFailure((Throwable)resp);
      }
    }
 catch (    Throwable cause) {
      invocation.logger.severe("Failed asynchronous execution of execution callback: " + callback + "for call "+ invocation,cause);
    }
  }
}

resp
response
callback
cause
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Runnable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
run

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponse(response)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp == null || !(resp instanceof Throwable)
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp == null
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
!(resp instanceof Throwable)
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(resp instanceof Throwable)
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp instanceof Throwable
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback.onResponse((E)resp)
callback
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
onResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(E)resp
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback.onFailure((Throwable)resp)
callback
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
onFailure

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(Throwable)resp
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resp
resp

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
cause
cause

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger.severe("Failed asynchronous execution of execution callback: " + callback + "for call "+ invocation,cause)
invocation
logger
callback
cause

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
severe

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Failed asynchronous execution of execution callback: " + callback + "for call "+ invocation
callback
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Failed asynchronous execution of execution callback: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"for call "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
cause
cause

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
RejectedExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
e
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger.warning("Execution of callback: " + callback + " is rejected!",e)
invocation
logger
callback
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
warning

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Execution of callback: " + callback + " is rejected!"
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Execution of callback: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" is rejected!"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
e
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
set

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse=resolveInternalResponse(offeredResponse)
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveInternalResponse(offeredResponse)
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveInternalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null && !(response instanceof BasicInvocation.InternalResponse)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
!(response instanceof BasicInvocation.InternalResponse)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(response instanceof BasicInvocation.InternalResponse)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof BasicInvocation.InternalResponse
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.InternalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InternalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ILogger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger.isFinestEnabled()
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isFinestEnabled

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger.info("Future response is already set! Current response: " + response + ", Offered response: "+ offeredResponse+ ", Invocation: "+ invocation)
logger
response
offeredResponse
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
info

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Future response is already set! Current response: " + response + ", Offered response: "+ offeredResponse+ ", Invocation: "+ invocation
response
offeredResponse
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Future response is already set! Current response: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
", Offered response: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
", Invocation: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response=offeredResponse
response
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse == BasicInvocation.WAIT_RESPONSE
offeredResponse
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
offeredResponse
offeredResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain=callbackHead
callbackChain
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead=null
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackHead
callbackHead

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
notifyAll()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
notifyAll

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService.deregisterInvocation(invocation)
operationService
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationService
operationService

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
deregisterInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
notifyCallbacks(callbackChain)
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
notifyCallbacks

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
notifyCallbacks

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain != null
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
runAsynchronous(callbackChain.callback,callbackChain.executor)
callbackChain
callback
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
runAsynchronous

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain.callback
callbackChain
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain.executor
callbackChain
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain=callbackChain.next
callbackChain
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain.next
callbackChain
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callbackChain
callbackChain

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
next
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveInternalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse == null
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new IllegalArgumentException("response can't be null: " + invocation)
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
IllegalArgumentException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"response can't be null: " + invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"response can't be null: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse instanceof NormalResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
NormalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse=((NormalResponse)rawResponse).getValue()
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
((NormalResponse)rawResponse).getValue()
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
((NormalResponse)rawResponse)
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(NormalResponse)rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
NormalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getValue

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse == null
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse=BasicInvocation.NULL_RESPONSE
rawResponse
NULL_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.NULL_RESPONSE
NULL_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
NULL_RESPONSE
NULL_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rawResponse
rawResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
get

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
get(Long.MAX_VALUE,TimeUnit.MILLISECONDS)
MAX_VALUE
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
get

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Long.MAX_VALUE
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Long

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
MAX_VALUE
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit.MILLISECONDS
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
MILLISECONDS
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
e
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger.severe("Unexpected timeout while processing " + this,e)
invocation
logger
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
severe

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Unexpected timeout while processing " + this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Unexpected timeout while processing "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
e
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getSafely

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
get()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
get

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
throwable
throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExceptionUtil.rethrow(throwable)
throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExceptionUtil

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
rethrow

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
throwable
throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
get

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout
timeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unit
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
waitForResponse(timeout,unit)
timeout
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
waitForResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeout
timeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unit
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(E)resolveApplicationResponseOrThrowException(unresolvedResponse)
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponseOrThrowException(unresolvedResponse)
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponseOrThrowException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
waitForResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
time
time

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unit
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null && response != BasicInvocation.WAIT_RESPONSE
response
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != BasicInvocation.WAIT_RESPONSE
response
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAITER_COUNT_FIELD_UPDATER.incrementAndGet(this)
WAITER_COUNT_FIELD_UPDATER

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAITER_COUNT_FIELD_UPDATER
WAITER_COUNT_FIELD_UPDATER

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
incrementAndGet

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toTimeoutMs(time,unit)
time
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
time
time

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unit
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeoutMs
maxCallTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getMaxCallTimeout()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getMaxCallTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
longPolling
longPolling

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs > maxCallTimeoutMs
timeoutMs
maxCallTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeoutMs
maxCallTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollCount
pollCount

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs >= 0
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
min(maxCallTimeoutMs,timeoutMs)
maxCallTimeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
min

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeoutMs
maxCallTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
startMs
startMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock.currentTimeMillis()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeMillis

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
lastPollTime
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollCount++
pollCount

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollCount
pollCount

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollResponse(pollTimeoutMs)
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
lastPollTime=Clock.currentTimeMillis() - startMs
lastPollTime
startMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
lastPollTime
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock.currentTimeMillis() - startMs
startMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock.currentTimeMillis()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeMillis

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
startMs
startMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs=decrementTimeout(timeoutMs,lastPollTime)
timeoutMs
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
decrementTimeout(timeoutMs,lastPollTime)
timeoutMs
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
decrementTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
lastPollTime
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == BasicInvocation.WAIT_RESPONSE
response
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
RESPONSE_FIELD_UPDATER.compareAndSet(this,BasicInvocation.WAIT_RESPONSE,null)
RESPONSE_FIELD_UPDATER
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
RESPONSE_FIELD_UPDATER
RESPONSE_FIELD_UPDATER

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
compareAndSet

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAIT_RESPONSE
WAIT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != BasicInvocation.INTERRUPTED_RESPONSE && interrupted
response
INTERRUPTED_RESPONSE
interrupted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != BasicInvocation.INTERRUPTED_RESPONSE
response
INTERRUPTED_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.INTERRUPTED_RESPONSE
INTERRUPTED_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
INTERRUPTED_RESPONSE
INTERRUPTED_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
interrupted
interrupted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Thread.currentThread().interrupt()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Thread.currentThread()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Thread

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentThread

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
interrupt

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
e
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
interrupted=true
interrupted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
interrupted
interrupted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
true

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
!interrupted && longPolling
interrupted
longPolling

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
!interrupted
interrupted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
interrupted
interrupted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
longPolling
longPolling

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Address

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
target
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.getTarget()
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getTarget

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.remote && invocation.nodeEngine.getThisAddress().equals(target)
invocation
remote
nodeEngine
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.remote
invocation
remote

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
remote
remote

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine.getThisAddress().equals(target)
invocation
nodeEngine
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine.getThisAddress()
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
nodeEngine
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getThisAddress

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
equals

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
target
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger.warning("No response for " + lastPollTime + " ms. "+ toString())
invocation
logger
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
warning

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"No response for " + lastPollTime + " ms. "+ toString()
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"No response for "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
lastPollTime
lastPollTime

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" ms. "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executing
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isOperationExecuting(target)
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isOperationExecuting

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
target
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
!executing
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executing
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationTimeoutException
operationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
newOperationTimeoutException(pollCount * pollTimeoutMs)
pollCount
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
newOperationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollCount * pollTimeoutMs
pollCount
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollCount
pollCount

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
set(operationTimeoutException)
operationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
set

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
operationTimeoutException
operationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.TIMEOUT_RESPONSE
TIMEOUT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TIMEOUT_RESPONSE
TIMEOUT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAITER_COUNT_FIELD_UPDATER.decrementAndGet(this)
WAITER_COUNT_FIELD_UPDATER

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
WAITER_COUNT_FIELD_UPDATER
WAITER_COUNT_FIELD_UPDATER

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
decrementAndGet

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs > 0 && response == null
pollTimeoutMs
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs > 0
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeoutMs
currentTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
waitStart
waitStart

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock.currentTimeMillis()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeMillis

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeoutMs > 0 && response == null
currentTimeoutMs
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeoutMs > 0
currentTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeoutMs
currentTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
wait(currentTimeoutMs)
currentTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
wait

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeoutMs
currentTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeoutMs=pollTimeoutMs - (Clock.currentTimeMillis() - waitStart)
currentTimeoutMs
pollTimeoutMs
waitStart

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeoutMs
currentTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs - (Clock.currentTimeMillis() - waitStart)
pollTimeoutMs
waitStart

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pollTimeoutMs
pollTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(Clock.currentTimeMillis() - waitStart)
waitStart

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock.currentTimeMillis() - waitStart
waitStart

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock.currentTimeMillis()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Clock

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentTimeMillis

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
waitStart
waitStart

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getMaxCallTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.callTimeout
invocation
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeout
maxCallTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout + getCallTimeoutExtension(callTimeout)
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getCallTimeoutExtension(callTimeout)
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getCallTimeoutExtension

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeout > 0 ? maxCallTimeout : Long.MAX_VALUE
maxCallTimeout
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeout > 0
maxCallTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeout
maxCallTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
maxCallTimeout
maxCallTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Long.MAX_VALUE
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Long

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
MAX_VALUE
MAX_VALUE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getCallTimeoutExtension

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout > 0
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Math.min(callTimeout,MAX_CALL_TIMEOUT_EXTENSION)
callTimeout
MAX_CALL_TIMEOUT_EXTENSION

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Math

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
min

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callTimeout
callTimeout

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
MAX_CALL_TIMEOUT_EXTENSION
MAX_CALL_TIMEOUT_EXTENSION

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0L

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getWaitingThreadsCount

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
waiterCount
waiterCount

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
time
time

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unit
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unit.toMillis(time)
unit
time

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unit
unit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toMillis

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
time
time

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs < 0
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs=0
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
timeoutMs
timeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
newOperationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
totalTimeoutMs
totalTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hasResponse
hasResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.pendingResponse != null
invocation
pendingResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.pendingResponse
invocation
pendingResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
pendingResponse
pendingResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsExpected
backupsExpected

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.backupsExpected
invocation
backupsExpected

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsExpected
backupsExpected

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsCompleted
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.backupsCompleted
invocation
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsCompleted
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
hasResponse
hasResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new OperationTimeoutException("No response for " + totalTimeoutMs + " ms."+ " Aborting invocation! "+ toString()+ " Not all backups have completed! "+ " backups-expected:"+ backupsExpected+ " backups-completed: "+ backupsCompleted)
totalTimeoutMs
backupsExpected
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
OperationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"No response for " + totalTimeoutMs + " ms."+ " Aborting invocation! "+ toString()+ " Not all backups have completed! "+ " backups-expected:"+ backupsExpected+ " backups-completed: "+ backupsCompleted
totalTimeoutMs
backupsExpected
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"No response for "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
totalTimeoutMs
totalTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" ms."

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" Aborting invocation! "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" Not all backups have completed! "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" backups-expected:"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsExpected
backupsExpected

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" backups-completed: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsCompleted
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new OperationTimeoutException("No response for " + totalTimeoutMs + " ms."+ " Aborting invocation! "+ toString()+ " No response has been received! "+ " backups-expected:"+ backupsExpected+ " backups-completed: "+ backupsCompleted)
totalTimeoutMs
backupsExpected
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
OperationTimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"No response for " + totalTimeoutMs + " ms."+ " Aborting invocation! "+ toString()+ " No response has been received! "+ " backups-expected:"+ backupsExpected+ " backups-completed: "+ backupsCompleted
totalTimeoutMs
backupsExpected
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"No response for "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
totalTimeoutMs
totalTimeoutMs

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" ms."

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" Aborting invocation! "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" No response has been received! "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" backups-expected:"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsExpected
backupsExpected

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" backups-completed: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
backupsCompleted
backupsCompleted

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponseOrThrowException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponse(unresolvedResponse)
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == null || !(response instanceof Throwable)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
!(response instanceof Throwable)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(response instanceof Throwable)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof Throwable
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof ExecutionException
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(ExecutionException)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof TimeoutException
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(TimeoutException)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof InterruptedException
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(InterruptedException)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof Error
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Error

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(Error)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Error

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new ExecutionException((Throwable)response)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(Throwable)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resolveApplicationResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse == BasicInvocation.NULL_RESPONSE
unresolvedResponse
NULL_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.NULL_RESPONSE
NULL_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
NULL_RESPONSE
NULL_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse == BasicInvocation.TIMEOUT_RESPONSE
unresolvedResponse
TIMEOUT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.TIMEOUT_RESPONSE
TIMEOUT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TIMEOUT_RESPONSE
TIMEOUT_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new TimeoutException("Call " + invocation + " encountered a timeout")
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeoutException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Call " + invocation + " encountered a timeout"
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Call "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" encountered a timeout"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse == BasicInvocation.INTERRUPTED_RESPONSE
unresolvedResponse
INTERRUPTED_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation.INTERRUPTED_RESPONSE
INTERRUPTED_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
INTERRUPTED_RESPONSE
INTERRUPTED_RESPONSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new InterruptedException("Call " + invocation + " was interrupted")
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
InterruptedException

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Call " + invocation + " was interrupted"
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Call "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" was interrupted"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Object

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
unresolvedResponse
unresolvedResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.resultDeserialized && response instanceof Data
invocation
resultDeserialized
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.resultDeserialized
invocation
resultDeserialized

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resultDeserialized
resultDeserialized

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof Data
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Data

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response=invocation.nodeEngine.toObject(response)
response
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine.toObject(response)
invocation
nodeEngine
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
nodeEngine
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toObject

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof NormalResponse
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
NormalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
NormalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
responseObj
responseObj

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(NormalResponse)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
NormalResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response=responseObj.getValue()
response
responseObj

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
responseObj.getValue()
responseObj

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
responseObj
responseObj

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getValue

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.resultDeserialized && response instanceof Data
invocation
resultDeserialized
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.resultDeserialized
invocation
resultDeserialized

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
resultDeserialized
resultDeserialized

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof Data
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Data

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response=invocation.nodeEngine.toObject(response)
response
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine.toObject(response)
invocation
nodeEngine
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
nodeEngine
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toObject

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response == null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response instanceof Throwable
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
throwable
throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
((Throwable)response)
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(Throwable)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.remote
invocation
remote

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
remote
remote

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
fixRemoteStackTrace((Throwable)response,Thread.currentThread().getStackTrace())
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
fixRemoteStackTrace

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(Throwable)response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Thread.currentThread().getStackTrace()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Thread.currentThread()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Thread

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
currentThread

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getStackTrace

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
throwable
throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
cancel

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
mayInterruptIfRunning
mayInterruptIfRunning

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
false

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isCancelled

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
false

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isDone

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response != null
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isOperationExecuting

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Address

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
target
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Boolean

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executing
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Boolean.FALSE
FALSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Boolean

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
FALSE
FALSE

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Operation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isStillExecuting
isStillExecuting

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
createCheckOperation()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
createCheckOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
inv
inv

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new BasicTargetInvocation(invocation.nodeEngine,invocation.serviceName,isStillExecuting,target,0,0,IS_EXECUTING_CALL_TIMEOUT,null,true)
invocation
nodeEngine
serviceName
isStillExecuting
target
IS_EXECUTING_CALL_TIMEOUT

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
BasicTargetInvocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
nodeEngine
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.serviceName
invocation
serviceName

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
serviceName
serviceName

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isStillExecuting
isStillExecuting

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
target
target

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
0

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
IS_EXECUTING_CALL_TIMEOUT
IS_EXECUTING_CALL_TIMEOUT

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
null

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
true

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Future

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
f
f

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
inv.invoke()
inv

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
inv
inv

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invoke

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger.warning("Asking if operation execution has been started: " + toString())
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
warning

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Asking if operation execution has been started: " + toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"Asking if operation execution has been started: "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executing=(Boolean)invocation.nodeEngine.toObject(f.get(IS_EXECUTING_CALL_TIMEOUT,TimeUnit.MILLISECONDS))
executing
invocation
nodeEngine
f
IS_EXECUTING_CALL_TIMEOUT
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executing
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(Boolean)invocation.nodeEngine.toObject(f.get(IS_EXECUTING_CALL_TIMEOUT,TimeUnit.MILLISECONDS))
invocation
nodeEngine
f
IS_EXECUTING_CALL_TIMEOUT
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Boolean

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine.toObject(f.get(IS_EXECUTING_CALL_TIMEOUT,TimeUnit.MILLISECONDS))
invocation
nodeEngine
f
IS_EXECUTING_CALL_TIMEOUT
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.nodeEngine
invocation
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
nodeEngine
nodeEngine

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toObject

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
f.get(IS_EXECUTING_CALL_TIMEOUT,TimeUnit.MILLISECONDS)
f
IS_EXECUTING_CALL_TIMEOUT
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
f
f

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
get

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
IS_EXECUTING_CALL_TIMEOUT
IS_EXECUTING_CALL_TIMEOUT

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit.MILLISECONDS
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TimeUnit

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
MILLISECONDS
MILLISECONDS

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Exception

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
e
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger.warning("While asking 'is-executing': " + toString(),e)
invocation
logger
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
warning

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"While asking 'is-executing': " + toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"While asking 'is-executing': "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
e
e

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger.warning("'is-executing': " + executing + " -> "+ toString())
invocation
logger
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.logger
invocation
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
logger
logger

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
warning

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"'is-executing': " + executing + " -> "+ toString()
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"'is-executing': "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executing
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
" -> "

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executing
executing

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Operation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
createCheckOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Operation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.op
invocation
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op instanceof TraceableOperation
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TraceableOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TraceableOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
traceable
traceable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
(TraceableOperation)op
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TraceableOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new TraceableIsStillExecutingOperation(invocation.serviceName,traceable.getTraceIdentifier())
invocation
serviceName
traceable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
TraceableIsStillExecutingOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.serviceName
invocation
serviceName

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
serviceName
serviceName

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
traceable.getTraceIdentifier()
traceable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
traceable
traceable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getTraceIdentifier

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new IsStillExecutingOperation(op.getCallId(),op.getPartitionId())
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
IsStillExecutingOperation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op.getCallId()
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getCallId

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op.getPartitionId()
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
op
op

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
getPartitionId

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
String

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
StringBuilder

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
new StringBuilder("BasicInvocationFuture{")

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
StringBuilder

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"BasicInvocationFuture{"

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.append("invocation=").append(invocation.toString())
sb
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.append("invocation=")
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
append

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
"invocation="

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
append

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation.toString()
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
invocation
invocation

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.append(", response=").append(response)
sb
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.append(", response=")
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
append

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
", response="

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
append

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.append(", done=").append(isDone())
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.append(", done=")
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
append

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
", done="

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
append

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isDone()

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
isDone

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.append('}')
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
append

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
'}'

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb.toString()
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
sb
sb

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
toString

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
next
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallbackNode

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
next
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.callback=callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.executor=executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
executor
executor

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.next=next
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.next
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
next
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
next
next

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutorCallbackAdapter

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutionCallback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
ExecutorCallbackAdapter

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.callback=callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this.callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
this

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
onResponse

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
E

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback.notify(response)
callback
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
notify

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
response
response

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
@Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Override

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
onFailure

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
Throwable

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
t
t

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback.notify(t)
callback
t

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
callback
callback

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
notify

NODE!!!!!!!!!!!!!!!!!!!!!!!!!
t
t
99 Patches Generated
Correct Patch Generated!
response != null
response != null && !(response instanceof BasicInvocation.InternalResponse)
Total Candidate Patches: 99
Correct Patch Rank: 18


